name: Manual Approval via Action

on:
  workflow_dispatch:

jobs:
  first-step:
    runs-on: ubuntu-latest
    steps:
      - name: Always run â€” Step 1
        run: |
          echo "âœ… Step 1 completed: Initial processing done."

  manual-approval:
    needs: first-step
    runs-on: ubuntu-latest
    permissions:
      issues: write
    steps:
      - name: Wait for manual approval
        uses: trstringer/manual-approval@v1
        with:
          secret: ${{ github.TOKEN }}
          approvers: ostapbip
          minimum-approvals: 1
          issue-title: "Deploying v1.3.5 to prod from staging"
          issue-body: "Please approve or deny the deployment of version v1.3.5."

      - name: Step 2 â€” Runs after approval
        run: |
          echo "ðŸš€ Step 2: Deployment approved and proceeding!"
